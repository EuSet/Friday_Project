(this["webpackJsonpfriday-project"]=this["webpackJsonpfriday-project"]||[]).push([[0],{20:function(e,t,n){e.exports={custom_btn:"SuperButton_custom_btn__2pCFP",btnStyle:"SuperButton_btnStyle__AATAH",title:"SuperButton_title__3xwSv",btnStyleDisabled:"SuperButton_btnStyleDisabled__rSJ35"}},24:function(e,t,n){e.exports={wrap:"login_wrap__3EYjg",loginForm:"login_loginForm__28Rc3",forgotPassword:"login_forgotPassword__30v1b",signUp:"login_signUp__3vuWc"}},25:function(e,t,n){e.exports={superInput:"SuperInputText_superInput__z-UMh",errorInput:"SuperInputText_errorInput__1pWxV",error:"SuperInputText_error__enpvd"}},27:function(e,t,n){e.exports={container:"SuperCheckbox_container__1DyoD",checkmark:"SuperCheckbox_checkmark__2lkA-",checkbox:"SuperCheckbox_checkbox__Pd5Gw",spanClassName:"SuperCheckbox_spanClassName__rgVCJ"}},37:function(e,t,n){e.exports={preloader:"Preloader_preloader__1SGnT",spinner:"Preloader_spinner__1YG1T",spin:"Preloader_spin__25cpu"}},48:function(e,t,n){e.exports={header:"header_header__a9zJx"}},56:function(e,t,n){},57:function(e,t,n){},8:function(e,t,n){e.exports={container:"resetPassword_container__3DNc_",main:"resetPassword_main__1GUi7",error:"resetPassword_error__3VT8R",textWrap:"resetPassword_textWrap__N-0_M",btnWrap:"resetPassword_btnWrap__1ei4H",footer:"resetPassword_footer__3leJj",btnFooterWrap:"resetPassword_btnFooterWrap__3ERVl"}},82:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(28),c=n.n(a),o=(n(56),n(57),n(7)),i=n(4),l=n(32),j=n(47),d=n(2),u=n(22),b=n.n(u),p=b.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),h=function(e){return p.post("auth/register",e)},O="AUTH/SIGN_UP",x={userRegistrationData:{email:null,password:null}},f=function(e,t){return function(n){h({email:e,password:t}).then((function(r){n({type:O,email:e,password:t})})).catch((function(e){return alert(e)}))}},m=n(19),g=n.n(m),v=n(26),_=b.a.create(Object(d.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),w=function(e){return _.post("auth/forgot",{email:e})},S=function(e,t){return _.post("auth/set-new-password",{password:e,resetPasswordToken:t})},y={isSent:!1,error:"",isCreate:!1,isLoader:!1},k=function(e){return{type:"reset/SET_ERROR",payload:{error:e}}},N=function(e){return{type:"reset/SET_LOADER",payload:{isLoader:e}}},C={id:"",email:"",name:"",avatar:"",publicCardPacksCount:null},P=b.a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0/"}),E=function(e){return P.post("auth/login",e)},T=function(){return P.delete("auth/me")},R=function(){return P.post("auth/me")},I={isLoggedIn:!1,name:"",avatar:"",error:""},A=function(e){return{type:"login/SET-IS-LOGGED-IN",value:e}},F=Object(l.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(d.a)(Object(d.a)({},e),{},{userRegistrationData:{email:t.email,password:t.password}});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:t.value});case"login/SET_USER":return Object(d.a)(Object(d.a)({},e),t.payload);case"login/SET-NAME":return Object(d.a)(Object(d.a)({},e),{},{name:t.name});case"login/SET-AVATAR":return Object(d.a)(Object(d.a)({},e),{},{avatar:t.avatar});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_AUTH_DATA":return Object(d.a)(Object(d.a)({},e),t.data)}return e},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reset/IS_SENT":case"reset/SET_ERROR":case"reset/IS_CREATE_NEW_PASSWORD":case"reset/SET_LOADER":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}}}),L=Object(l.c)(F,Object(l.a)(j.a));window.store=L;var D=n(23),W=n(20),U=n.n(W),G=n(1),B=function(e){e.red,e.className;var t=e.title,n=e.disabled,r=Object(D.a)(e,["red","className","title","disabled"]),s=n?"".concat(U.a.custom_btn," ").concat(U.a.btnStyle," ").concat(U.a.btnStyleDisabled):"".concat(U.a.custom_btn," ").concat(U.a.btnStyle);return Object(G.jsx)("button",Object(d.a)(Object(d.a)({disabled:n,className:s},r),{},{children:Object(G.jsx)("span",{className:U.a.title,children:t})}))},J=n(48),M=n.n(J),V=function(){return Object(G.jsxs)("div",{className:M.a.header,children:[Object(G.jsx)(o.b,{to:"/registration",children:Object(G.jsx)(B,{title:"registration"})}),Object(G.jsx)(o.b,{to:"/login",children:Object(G.jsx)(B,{title:"login"})}),Object(G.jsx)(o.b,{to:"/resetpassword",children:Object(G.jsx)(B,{title:"resetPass"})}),Object(G.jsx)(o.b,{to:"/set-new-password/:resetPasswordToken",children:Object(G.jsx)(B,{title:"newPass"})}),Object(G.jsx)(o.b,{to:"/profile",children:Object(G.jsx)(B,{title:"profile"})}),Object(G.jsx)(o.b,{to:"/",children:Object(G.jsx)(B,{title:"test"})})]})},q=n(16),H=n(24),z=n.n(H),K=n(25),Z=n.n(K),Y=function(e){var t=e.type,n=e.onChange,r=e.onChangeText,s=e.onKeyPress,a=e.onEnter,c=e.error,o=e.setError,i=e.className,l=e.spanClassName,j=Object(D.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","setError","className","spanClassName"]),u="".concat(Z.a.error," ").concat(l||""),b="".concat(i," ").concat(c?Z.a.errorInput:Z.a.superInput);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:Z.a.wrap,children:[Object(G.jsx)("input",Object(d.a)({type:t||"text",onChange:function(e){o&&o(""),n&&n(e),r&&r(e.currentTarget.value)},onKeyPress:function(e){s&&s(e),a&&"Enter"===e.key&&a()},className:b},j)),Object(G.jsx)("span",{className:Z.a.focusBorder,children:Object(G.jsx)("i",{})})]}),Object(G.jsx)("div",{children:c&&Object(G.jsx)("span",{className:u,children:c})})]})},$=n(27),Q=n.n($),X=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,s=(e.spanClassName,e.children),a=Object(D.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),c="".concat(Q.a.checkbox," ").concat(r||"");return Object(G.jsxs)("label",{className:Q.a.container,children:[Object(G.jsx)("input",Object(d.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(!a.checked)},className:c},a)),Object(G.jsx)("span",{className:Q.a.checkmark}),s&&Object(G.jsx)("span",{className:Q.a.spanClassName,children:s})]})},ee=n(5),te=function(){var e=Object(i.b)(),t=Object(r.useState)("nya-admin@nya.nya"),n=Object(q.a)(t,2),s=n[0],a=n[1],c=Object(r.useState)("1qazxcvBG"),l=Object(q.a)(c,2),j=l[0],d=l[1],u=Object(r.useState)(!1),b=Object(q.a)(u,2),p=b[0],h=b[1];return Object(i.c)((function(e){return e.login.isLoggedIn}))?Object(G.jsx)(ee.a,{to:"/profile"}):Object(G.jsx)("div",{className:z.a.wrap,children:Object(G.jsxs)("div",{className:z.a.loginForm,children:[Object(G.jsx)("div",{children:Object(G.jsx)("h2",{children:"It-inkubator"})}),Object(G.jsx)("div",{children:Object(G.jsx)("h3",{children:"Sign In"})}),Object(G.jsxs)("div",{children:[Object(G.jsx)("span",{children:"Email"}),Object(G.jsx)(Y,{onChangeText:function(e){a(e)},value:s})]}),Object(G.jsxs)("div",{children:[Object(G.jsx)("span",{children:"Password"}),Object(G.jsx)(Y,{type:"password",onChangeText:function(e){d(e)},value:j})]}),Object(G.jsxs)("div",{children:[Object(G.jsx)("span",{children:"Remember me"}),Object(G.jsx)(X,{checked:p,onChangeChecked:function(e){h(e)}})]}),Object(G.jsx)("div",{className:z.a.forgotPassword,children:Object(G.jsx)(o.b,{to:"/resetpassword",children:"Forgot Password?"})}),Object(G.jsx)("div",{className:z.a.submitLogin,children:Object(G.jsx)(B,{onClick:function(){var t;e((t={email:s,password:j,rememberMe:p},function(e){E(t).then((function(t){e(A(!0)),e({type:"login/SET-NAME",name:t.data.name}),e({type:"login/SET-AVATAR",avatar:t.data.avatar})})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";console.log(t)}))}))},title:"Login"})}),Object(G.jsxs)("div",{className:z.a.signUp,children:[Object(G.jsx)("div",{children:"Don't have an account?"}),Object(G.jsx)(o.b,{to:"/registration",children:"Sign Up"})]})]})})},ne=n(37),re=n.n(ne),se=function(){return Object(G.jsx)("div",{className:re.a.preloader,children:Object(G.jsx)("div",{className:re.a.spinner})})},ae=n(8),ce=n.n(ae),oe=function(){var e=Object(r.useState)(""),t=Object(q.a)(e,2),n=t[0],s=t[1],a=Object(ee.g)().resetPasswordToken,c=Object(i.b)(),o=Object(i.c)((function(e){return e.reset.isCreate})),l=Object(i.c)((function(e){return e.reset.isLoader})),j=Object(i.c)((function(e){return e.reset.error}));return console.log(j),o?Object(G.jsx)(ee.a,{to:"/login"}):Object(G.jsx)("div",{className:ce.a.container,children:Object(G.jsxs)("div",{className:ce.a.main,children:[Object(G.jsx)("h3",{children:"Create new password"}),j&&Object(G.jsx)("span",{className:ce.a.error,children:j}),Object(G.jsx)("input",{value:n,onChange:function(e){s(e.target.value),c(k(""))},type:"password",placeholder:"password"}),Object(G.jsx)("div",{className:ce.a.textWrap,children:Object(G.jsx)("span",{children:"Create new Password and we will send you further instructions"})}),Object(G.jsx)("div",{className:ce.a.btnWrap,children:l?Object(G.jsx)(se,{}):Object(G.jsx)("button",{onClick:function(){return c(function(e,t){return function(){var n=Object(v.a)(g.a.mark((function n(r){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(N(!0)),n.next=4,S(e,t);case 4:r({type:"reset/IS_CREATE_NEW_PASSWORD",payload:{isCreate:!0}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r(k("something wrong"));case 10:r(N(!1));case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(n,a))},children:"Create new password"})})]})})},ie=n(51),le=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth.userRegistrationData.email})),n=Object(ie.a)({initialValues:{email:"",password:"",checkPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<7&&(t.password="Must be 7 characters at least"):t.password="Required",e.checkPassword?e.checkPassword!==e.password&&(t.checkPassword="Passwords should be equal"):t.checkPassword="Required",t},onSubmit:function(t){n.resetForm(),alert(JSON.stringify(t)),e(f(t.email,t.password))}});return t?Object(G.jsx)(ee.a,{to:"/login"}):Object(G.jsx)("div",{children:Object(G.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(G.jsx)(Y,Object(d.a)({placeholder:"Email"},n.getFieldProps("email"))),n.touched.email&&n.errors.email?Object(G.jsx)("div",{style:{color:"red"},children:n.errors.email}):null,Object(G.jsx)(Y,Object(d.a)({type:"password",placeholder:"Password"},n.getFieldProps("password"))),n.touched.password&&n.errors.password?Object(G.jsx)("div",{style:{color:"red"},children:n.errors.password}):null,Object(G.jsx)(Y,Object(d.a)({type:"password",placeholder:"Password"},n.getFieldProps("checkPassword"))),n.touched.checkPassword&&n.errors.checkPassword?Object(G.jsx)("div",{style:{color:"red"},children:n.errors.checkPassword}):null,Object(G.jsx)(B,{type:"submit",title:"sign up"})]})})},je=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.reset.isSent})),n=Object(i.c)((function(e){return e.reset.error})),s=Object(i.c)((function(e){return e.reset.isLoader})),a=Object(r.useState)(""),c=Object(q.a)(a,2),o=c[0],l=c[1],j=Object(r.useState)(!1),d=Object(q.a)(j,2),u=d[0],b=d[1],p=function(t){e(function(e){return function(){var t=Object(v.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(N(!0)),t.next=4,w(e);case 4:n({type:"reset/IS_SENT",payload:{isSent:!0}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(k("something wrong"));case 10:n(N(!1));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},h=Object(r.useCallback)((function(){e(k(""))}),[e]);return Object(r.useEffect)((function(){return function(){return h()}}),[h]),u?Object(G.jsx)(ee.a,{to:"/login"}):t?Object(G.jsx)(ee.a,{to:"/set-new-password/:resetPasswordToken"}):Object(G.jsx)("div",{className:ce.a.container,children:Object(G.jsxs)("div",{className:ce.a.main,children:[Object(G.jsx)("h3",{children:"Forgot your password?"}),n&&Object(G.jsx)("span",{className:ce.a.error,children:n}),Object(G.jsx)("input",{value:o,onChange:function(t){l(t.target.value),e(k(""))},type:"email",placeholder:"email"}),Object(G.jsx)("div",{className:ce.a.textWrap,children:Object(G.jsx)("span",{children:"Enter your email address and we willsend you further instructions"})}),Object(G.jsx)("div",{className:ce.a.btnWrap,children:s?Object(G.jsx)("div",{children:Object(G.jsx)(se,{})}):Object(G.jsx)("button",{onClick:function(){return p(o)},children:Object(G.jsx)("span",{children:"Send instructions"})})}),Object(G.jsxs)("div",{className:ce.a.footer,children:[Object(G.jsxs)("div",{className:ce.a.textWrap,children:[Object(G.jsx)("span",{children:"Did you remember your password?"}),Object(G.jsx)("br",{})]}),Object(G.jsx)("div",{className:ce.a.btnFooterWrap,children:Object(G.jsx)("button",{onClick:function(){b(!0)},children:Object(G.jsx)("span",{children:"Try logging in"})})})]})]})})},de=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.login.isLoggedIn})),n=Object(i.c)((function(e){return e.login.name})),s=Object(i.c)((function(e){return e.login.avatar}));return Object(r.useEffect)((function(){t||e((function(e){R().then((function(t){e({type:"login/SET_USER",payload:{name:t.data.name,isLoggedIn:!0}})})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";console.log(t)}))}))}),[t,e]),t?Object(G.jsxs)("div",{children:["Profile",Object(G.jsxs)("div",{children:[Object(G.jsx)("img",{src:s,alt:"avatar"}),Object(G.jsx)("div",{}),Object(G.jsxs)("div",{children:[n,Object(G.jsx)("div",{}),Object(G.jsx)("div",{children:Object(G.jsx)(B,{onClick:function(){e((function(e){T().then((function(){e(A(!1))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";console.log(t)}))}))},title:"logout"})})]})]})]}):Object(G.jsx)(ee.a,{to:"/login"})},ue=function(){return Object(G.jsx)(G.Fragment,{children:"NotFound"})},be=function(){return Object(G.jsxs)("div",{children:[Object(G.jsx)(Y,{}),Object(G.jsx)(X,{})]})},pe=function(){return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)(ee.d,{children:[Object(G.jsx)(ee.b,{path:"/registration",render:function(){return Object(G.jsx)(le,{})}}),Object(G.jsx)(ee.b,{path:"/login",render:function(){return Object(G.jsx)(te,{})}}),Object(G.jsx)(ee.b,{path:"/resetpassword",render:function(){return Object(G.jsx)(je,{})}}),Object(G.jsx)(ee.b,{path:"/set-new-password/:resetPasswordToken",render:function(){return Object(G.jsx)(oe,{})}}),Object(G.jsx)(ee.b,{path:"/profile",render:function(){return Object(G.jsx)(de,{})}}),Object(G.jsx)(ee.b,{exact:!0,path:"/",render:function(){return Object(G.jsx)(be,{})}}),Object(G.jsx)(ee.b,{path:"/404",render:function(){return Object(G.jsx)(ue,{})}}),Object(G.jsx)(ee.a,{from:"*",to:"/404"})]})})};var he=function(){return Object(G.jsx)("div",{className:"App",children:Object(G.jsx)(i.a,{store:L,children:Object(G.jsxs)(o.a,{children:[Object(G.jsx)(V,{}),Object(G.jsx)(pe,{})]})})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))};c.a.render(Object(G.jsx)(s.a.StrictMode,{children:Object(G.jsx)(he,{})}),document.getElementById("root")),Oe()}},[[82,1,2]]]);
//# sourceMappingURL=main.1d1a7ca3.chunk.js.map